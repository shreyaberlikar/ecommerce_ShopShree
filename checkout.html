<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Place order</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
 
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous">
    <style>
        .summary-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            border: 1px solid #ccc;
            margin-bottom: 10px;
        }
        .summary-card-details {
            flex: 1;
        }
        .summary-card img {
            width: 80px; /* Adjust the width as needed */
            height: 80px; /* Adjust the height as needed */
            object-fit: cover;
            margin-right: 20px;
        }
    </style>
</head>
<body>
    <!-- ==============Checkout starts here============== -->
<section class="Checkout py-5 my-5" id="Checkout">
    <div class="container">
        <div class="section_title text-center mb-5">
            <h1 class="text-capitalize">Place Order</h1>
        </div>
        <form id="orderForm" action="order_confirmation.html" method="">
        <div class="row">
            <!--Grid column-->
            <div class="col-lg-8">
                <!-- Card -->
                <div class="card bg_checkout_1 pb-5">
                    <div class="card-body">
                        <h5 class="mb-5">Billing details</h5>
                        <!-- Grid row -->
                        <div class="row">
                            <!-- Grid column -->
                            <div class="col-lg-6">
                                <!-- First name -->
                                <div class="form-group mb-0 mb-lg-4">
                                    <label for="firstName">First name</label>
                                    <input type="text" id="firstName" name="firstName" class="form-control mb-0 mb-lg-2" required minlength="2">
                                    <div class="invalid-feedback">Please enter a valid first name.</div>
                                </div>
                                
                            </div>
                            <!-- Grid column -->
                            <!-- Grid column -->
                            <div class="col-lg-6">
                                <!-- Last name -->
                                <div class="form-group md-outline">
                                    <label for="lastName">Last name</label>
                                    <input type="text" id="lastName" name="lastName" class="form-control" required minlength="2">
                                    <div class="invalid-feedback">Please enter a valid last name.</div>
                                </div>
                            </div>
                            <!-- Grid column -->
                        </div>
                        <!-- Grid row -->
                        <div class="form-group">
                            <label for="form18">Phone</label>
                            <input type="tel" id="form18" name="phone" class="form-control" required pattern="[0-9]{10}">
                            <small class="form-text text-muted">Please enter a valid phone number (10 digits).</small>
                            <div class="invalid-feedback">Please enter a valid phone number.</div>
                        </div>
                        <!-- Email address -->
                        <div class="form-group">
                            <label for="form19">Email address</label>
                            <input type="email" id="form19" name="email" class="form-control" required>
                            <div class="invalid-feedback">Please enter a valid email address.</div>
                        </div>
                        <!-- Country -->
                        <div class="d-flex flex-wrap">
                            <div class="w-100">
                                <label>Country</label>
                                <select class="custom-select form-group" name="country" required>
                                    <option value="" selected>Choose your option</option>
                                    <option value="1">India</option> 
                                </select>
                                <div class="invalid-feedback">Please select a country.</div>
                            </div>
                        </div>
                        <!-- Address Part 1 -->
                        <div class="form-group">
                            <label for="form14">Address Line 1</label>
                            <input type="text" id="form14" name="address1" placeholder="House number and street name" class="form-control" required minlength="2">
                            <div class="invalid-feedback">Please enter a valid address.</div>
                        </div>
                        <!-- Address Part 2 -->
                        <div class="form-group">
                            <label for="form15">Address Line 2</label>
                            <input type="text" id="form15" name="address2" placeholder="Apartment, suite, unit etc. (optional)" class="form-control">
                        </div>
                        <!-- Postcode / ZIP -->
                        <div class="form-group">
                            <label for="form16">Postcode / ZIP</label>
                            <input type="number" id="form16" name="zipcode" class="form-control" required>
                            <div class="invalid-feedback">Please enter a valid postcode/ZIP.</div>
                        </div>
                        <!-- Town / City -->
                        <div class="form-group">
                            <label for="form17">Town / City</label>
                            <input type="text" id="form17" name="city" class="form-control" required minlength="2">
                            <div class="invalid-feedback">Please enter a valid city.</div>
                        </div>
                        <!-- Additional information -->
                        <div class="form-group">
                            <label for="form76">Additional information</label>
                            <textarea id="form76" name="additionalInfo" class="md-textarea form-control" rows="4" required minlength="2"></textarea>
                            <div class="invalid-feedback">Please enter some additional information.</div>
                        </div>
                    </div>
                </div>
                <!-- Card -->
            </div>
            <!--Grid column-->
            <!-- Summary Card -->
            <div class="col-lg-4">
                <div class="summary-card">
                    <img id="cart-image" src="" alt="Product Image">
                    <div class="summary-card-details">
                        <p>Product Name: <span id="cart-name"></span></p>
                        <p>Quantity: <span id="cart-quantity"></span></p>
                        <p>Price: <span id="cart-price"></span></p>
                    </div>
                </div>
            </div>
            <!-- Summary Card -->
        </div>
        <!-- Submit button -->
        <div class="text-center">
            <button type="button" onclick="submitForm()" class="btn btn-primary">
                <i class="fa fa-check mr-2"></i>Buy
            </button>
        </div>
        </form>
    </div>
</section>
<!-- ==============Checkout ends here============== -->

<!-- JavaScript code -->
<script>
    // JavaScript code to retrieve values from localStorage and display them
    var cartImageSrc = localStorage.getItem("cartImageSrc");
    var cartQuantity = localStorage.getItem("cartQuantity");
    var cartName = localStorage.getItem("cartName");
    var cartPrice = localStorage.getItem("cartPrice");
    
    // Display these values in the HTML
    document.getElementById("cart-name").innerText = cartName;
    document.getElementById("cart-image").src = cartImageSrc;
    document.getElementById("cart-quantity").innerText = cartQuantity;
    document.getElementById("cart-price").innerText = cartPrice;

    // Function to validate form before submission
    function submitForm() {
        var isValid = true;
        var inputs = document.querySelectorAll('input[required], select[required], textarea[required]');
        inputs.forEach(function(input) {
            if (!input.checkValidity()) {
                isValid = false;
                input.classList.add('is-invalid');
            } else {
                input.classList.remove('is-invalid');
            }
        });
        if (isValid) {
            document.getElementById("orderForm").submit(); // Submit the form if valid
        }
    }
</script>

<!-- JavaScript and CSS libraries -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
</body>
</html>
